{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nimport { MatDialogConfig, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { AddUserComponent } from \"../add-user/add-user.component\";\nlet ListUserComponent = class ListUserComponent {\n  constructor(crudApi, toastr, router, fb, matDialog, data, dialogRef) {\n    this.crudApi = crudApi;\n    this.toastr = toastr;\n    this.router = router;\n    this.fb = fb;\n    this.matDialog = matDialog;\n    this.data = data;\n    this.dialogRef = dialogRef;\n  }\n\n  ngOnInit() {\n    this.getData();\n  }\n\n  getData() {\n    this.crudApi.getAll().subscribe(response => {\n      this.crudApi.list = response[\"hydra:member\"];\n    });\n  }\n\n  removeData(id) {\n    if (window.confirm('Etes vous sur de vouloir suppprimer cette user ?')) {\n      this.crudApi.deleteData(id).subscribe(data => {\n        this.toastr.warning('User supprimer avec succes!');\n        this.getData();\n      }, error => console.log(error));\n    }\n  }\n\n  selectData(item) {\n    //permet de choisir entre update et add\n    this.crudApi.choixmenu = \"M\";\n    this.crudApi.formData = this.fb.group(Object.assign({}, item));\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.autoFocus = true;\n    dialogConfig.disableClose = true;\n    dialogConfig.width = \"50%\";\n    this.matDialog.open(AddUserComponent, dialogConfig);\n  }\n\n  addUsers() {\n    //permet de choisir entre update et add\n    this.crudApi.choixmenu = \"A\";\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.autoFocus = true;\n    dialogConfig.disableClose = true;\n    dialogConfig.width = \"50%\";\n    this.matDialog.open(AddUserComponent, dialogConfig);\n  }\n\n};\nListUserComponent = __decorate([Component({\n  selector: 'app-list-user',\n  templateUrl: './ListUser.component.html',\n  styles: []\n}), __param(5, Inject(MAT_DIALOG_DATA))], ListUserComponent);\nexport { ListUserComponent };","map":null,"metadata":{},"sourceType":"module"}